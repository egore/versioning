<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<!--@elvariable id="entityDetail" type="de.egore911.versioning.ui.beans.detail.AbstractDetail"-->
	<ui:repeat var="actionReplacement"
		value="#{entityDetail.instance.actionReplacements}">

		<rich:panel header="#{messages.actionReplacement}">
			<h:commandLink
				action="#{entityDetail.deleteActionReplacement(actionReplacement)}"
				class="deletionlink" title="#{messages.actionReplacement_delete}">
				<h:graphicImage value="/images/elementary/edit-delete.png" />
			</h:commandLink>

			<ui:repeat value="#{actionReplacement.wildcards}" var="wildcard"
				varStatus="status">
				<h:commandLink action="#{entityDetail.deleteWildcard(wildcard)}"
					class="deletionlink"
					title="#{messages.actionReplacement_delete_wildcard}">
					<h:graphicImage value="/images/elementary/edit-delete.png" />
				</h:commandLink>
				<h:panelGrid columns="3" columnClasses="caption,value,help">
					<h:outputText
						value="#{status.first ? messages.actionReplacement_wildcard : ''}" />
					<h:inputText value="#{wildcard.value}" />
					<h:outputText
						value="#{status.first ? messages.actionReplacement_wildcard_help : ''}" />
				</h:panelGrid>
			</ui:repeat>
			<h:panelGrid columns="3" columnClasses="caption,value,help">
				<h:outputText value="" />
				<h:commandLink
					action="#{entityDetail.addWildcard(actionReplacement)}">
					<h:graphicImage value="/images/elementary/add.png"
						styleClass="linkimage" />
					<h:outputText value="#{messages.actionReplacement_add_wildcard}"
						styleClass="linktext" />
				</h:commandLink>
				<h:outputText value="" />
			</h:panelGrid>

			<ui:repeat value="#{actionReplacement.replacements}"
				var="replacement" varStatus="status">
				<h:commandLink
					action="#{entityDetail.deleteReplacement(replacement)}"
					class="deletionlink"
					title="#{messages.actionReplacement_delete_replacement}">
					<h:graphicImage value="/images/elementary/edit-delete.png" />
				</h:commandLink>
				<h:panelGrid columns="3" columnClasses="caption,value,help">
					<h:outputText value="#{messages.actionReplacement_variable}" />
					<h:inputText value="#{replacement.variable}" />
					<h:outputText
						value="#{status.first ? messages.actionReplacement_variable_help : ''}" />
					<h:outputText value="#{messages.actionReplacement_value}" />
					<h:inputText value="#{replacement.value}" />
					<h:outputText
						value="#{status.first ? messages.actionReplacement_value_help : ''}" />
				</h:panelGrid>
			</ui:repeat>
			<h:panelGrid columns="3" columnClasses="caption,value,help">
				<h:outputText value="" />
				<h:commandLink
					action="#{entityDetail.addReplacement(actionReplacement)}">
					<h:graphicImage value="/images/elementary/add.png"
						styleClass="linkimage" />
					<h:outputText value="#{messages.actionReplacement_add_replacement}"
						styleClass="linktext" />
				</h:commandLink>
				<h:outputText value="" />
			</h:panelGrid>

			<ui:repeat value="#{actionReplacement.replacementFiles}"
				var="replacementFile" varStatus="status">
				<h:commandLink
					action="#{entityDetail.deleteReplacementfile(replacementFile)}"
					class="deletionlink"
					title="#{messages.actionReplacement_delete_replacementFile}">
					<h:graphicImage value="/images/elementary/edit-delete.png" />
				</h:commandLink>
				<h:panelGrid columns="3" columnClasses="caption,value,help">
					<h:outputText
						value="#{status.first ? messages.actionReplacement_replacementFile : ''}" />
					<h:inputText value="#{replacementFile.value}" />
					<h:outputText
						value="#{status.first ? messages.actionReplacement_replacementFile_help : ''}" />
				</h:panelGrid>
			</ui:repeat>
			<h:panelGrid columns="3" columnClasses="caption,value,help">
				<h:outputText value="" />
				<h:commandLink
					action="#{entityDetail.addReplacementFile(actionReplacement)}">
					<h:graphicImage value="/images/elementary/add.png"
						styleClass="linkimage" />
					<h:outputText
						value="#{messages.actionReplacement_add_replacementFile}"
						styleClass="linktext" />
				</h:commandLink>
				<h:outputText value="" />
			</h:panelGrid>

		</rich:panel>
	</ui:repeat>

	<h:commandButton action="#{entityDetail.chooseReplacement}"
		value="#{messages.actionReplacement_add}" />

</ui:composition>