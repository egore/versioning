<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="layout/core.xhtml">

    <ui:define name="title">
        <h:outputText value="#{messages.compare_projects}" />
    </ui:define>
    
    <h:panelGrid columns="2" style="width: 100%">
	    <h:selectOneMenu value="#{compareProjectsBean.projectA}"
				id="compareProjects_projectA"
				converter="projectConverter">
			<f:selectItem itemValue="#{null}" itemLabel="" />
			<f:selectItems value="#{selectItemBean.allProjectSelectItems}" />
			<f:ajax event="change" render="projectHeaderA projectActionsA" />
	    </h:selectOneMenu>
	    
	    <h:selectOneMenu value="#{compareProjectsBean.projectB}"
				id="compareProjects_projectB"
				converter="projectConverter">
			<f:selectItem itemValue="#{null}" itemLabel="" />
	    	<f:selectItems value="#{selectItemBean.allProjectSelectItems}" />
			<f:ajax event="change" render="projectHeaderB projectActionsB" />
	    </h:selectOneMenu>
	    
		<ui:include src="/layout/project/project_header.xhtml">
			<ui:param name="project" value="#{compareProjectsBean.projectA}" />
			<ui:param name="idPostfix" value="A" />
		</ui:include>
		
		<ui:include src="/layout/project/project_header.xhtml">
			<ui:param name="project" value="#{compareProjectsBean.projectB}" />
			<ui:param name="idPostfix" value="B" />
		</ui:include>
		
		<ui:include src="/layout/project/project_actions.xhtml">
			<ui:param name="project" value="#{compareProjectsBean.projectA}" />
			<ui:param name="idPostfix" value="A" />
		</ui:include>
		
		<ui:include src="/layout/project/project_actions.xhtml">
			<ui:param name="project" value="#{compareProjectsBean.projectB}" />
			<ui:param name="idPostfix" value="B" />
		</ui:include>

    </h:panelGrid>

</ui:composition>